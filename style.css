:root {
  --bg:#0b0b0d;
  --card:#22222a;
  --accent:#d4af37;
  --muted:#9aa0a6;
  --gap:32px;
}

*{box-sizing:border-box;}
body{margin:0;padding:32px;font-family:Inter,sans-serif;background:var(--bg);color:#eef0f2;}

.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:var(--gap);
  padding:20px;
}

.card{
  position:relative;
  perspective:1200px;
  border-radius:18px;
  will-change:transform;
  cursor:pointer;
  transition:transform 300ms ease;
}

.card-inner{
  width:100%;
  height:180px;
  border-radius:18px;
  background:linear-gradient(145deg,#2a2a33,#1c1c22);
  display:flex;
  align-items:center;
  justify-content:center;
  text-align:center;
  padding:16px;
  transform-style:preserve-3d;
  transition:transform 660ms cubic-bezier(.22,1,.36,1),box-shadow 360ms ease;
  box-shadow:0 8px 30px rgba(0,0,0,0.45);
}

/* стороны карточки */
.card-face{position:absolute;inset:0;border-radius:18px;backface-visibility:hidden;display:flex;align-items:center;justify-content:center;padding:18px;}
.front{font-size:28px;font-weight:700;background:linear-gradient(120deg,#2b2b35,#1b1b22);color:#f6f6f6;}
.back{transform:rotateY(180deg);font-size:15px;line-height:1.45;background:linear-gradient(120deg,#163a2d,#0d1c14);color:#e6efe8;padding:20px;}

/* shuffle animation */
@keyframes shuffle{
  0%{transform:translate3d(0,0,0) rotate(0deg) scale(1);}
  50%{transform:translate3d(var(--tx,0px),var(--ty,0px),0) rotate(var(--rot,0deg)) scale(var(--scale,1));}
  100%{transform:translate3d(0,0,0) rotate(0deg) scale(1);}
}

.card.shuffle-phase .card-inner{
  animation:shuffle var(--dur,900ms) var(--delay,0ms) cubic-bezier(.22,1,.36,1) both;
}

/* выделение выбранной карты */
.card.highlight .card-inner{
  transform:scale(1.08);
  box-shadow:0 16px 60px rgba(212,175,55,0.4);
  z-index:1000;
}

.card.highlight-long .card-inner{
  transform:scale(1.12);
  box-shadow:0 20px 80px rgba(212,175,55,0.6);
}

/* модалки и overlay */
.overlay{position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:1200;display:flex;align-items:center;justify-content:center;}
.modal{width:min(900px,90vw);max-height:80vh;background:linear-gradient(145deg,#1e1e24,#121216);border-radius:16px;color:#fff;display:flex;flex-direction:column;gap:18px;padding:28px;box-shadow:0 30px 80px rgba(0,0,0,0.7);}
.modal .task{font-size:22px;line-height:1.4;text-align:center;word-break:break-word;}
.modal .row{display:flex;justify-content:center;margin-top:16px;}
.btn-confirm{background:var(--accent);color:#000;padding:10px 14px;border-radius:10px;cursor:pointer;}

/* история */
.history{max-width:760px;margin:12px auto 80px;padding-left:18px;color:var(--muted);line-height:1.6;}
.history li{padding:8px 0;border-left:3px solid rgba(212,175,55,.07);padding-left:12px;}








