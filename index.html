<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–õ–æ—Ç–æ—Ç—Ä–æ–Ω –∑–∞–¥–∞–Ω–∏–π</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            padding: 20px;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            text-align: center;
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(255,255,255,0.3);
            background: linear-gradient(90deg, #ff8a00, #e52e71);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glow 3s infinite alternate;
        }

        .subtitle {
            font-size: 1.2rem;
            margin-bottom: 40px;
            color: #aaa;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ª–æ—Ç–æ—Ç—Ä–æ–Ω–∞ */
        .lototron {
            width: 100%;
            height: 500px;
            position: relative;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 20px;
            margin: 30px auto;
            overflow: hidden;
            border: 3px solid rgba(255,255,255,0.1);
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.5);
        }

        .balls-container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .ball {
            position: absolute;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
            cursor: pointer;
            transition: all 0.3s;
            user-select: none;
            z-index: 2;
            background: radial-gradient(circle at 30% 30%, #fff, #4facfe);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            border: 2px solid rgba(255,255,255,0.8);
        }

        .ball:hover {
            transform: scale(1.1);
        }

        /* –ö–Ω–æ–ø–∫–∞ */
        .btn {
            background: linear-gradient(90deg, #ff416c, #ff4b2b);
            border: none;
            padding: 20px 60px;
            font-size: 1.8rem;
            color: white;
            border-radius: 50px;
            cursor: pointer;
            margin: 30px 0;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(255, 65, 108, 0.4);
            font-weight: bold;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
            z-index: 1;
        }

        .btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 65, 108, 0.6);
        }

        .btn:active {
            transform: translateY(0);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }

        .btn::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: 0.5s;
            z-index: -1;
        }

        .btn:hover::after {
            left: 100%;
        }

        /* –†–µ–∑—É–ª—å—Ç–∞—Ç */
        .result {
            min-height: 200px;
            margin: 30px auto;
            padding: 30px;
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.1);
            max-width: 800px;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s;
        }

        .result.show {
            opacity: 1;
            transform: translateY(0);
        }

        .result h2 {
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: #4facfe;
        }

        .task-number {
            font-size: 8rem;
            font-weight: bold;
            background: linear-gradient(90deg, #4facfe, #00f2fe);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(79, 172, 254, 0.5);
            animation: pulse 2s infinite;
        }

        .task-description {
            font-size: 1.5rem;
            margin-top: 20px;
            color: #ccc;
            line-height: 1.6;
        }

        /* –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ */
        .confetti {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1000;
        }

        .confetti-piece {
            position: absolute;
            width: 10px;
            height: 20px;
            opacity: 0;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes glow {
            0% { filter: drop-shadow(0 0 10px rgba(255, 138, 0, 0.7)); }
            100% { filter: drop-shadow(0 0 20px rgba(229, 46, 113, 0.7)); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        /* –ò—Å—Ç–æ—Ä–∏—è */
        .history {
            margin-top: 40px;
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .history-item {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea, #764ba2);
            font-weight: bold;
            animation: float 3s infinite ease-in-out;
            animation-delay: calc(var(--i) * 0.1s);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ –õ–û–¢–û–¢–†–û–ù –ó–ê–î–ê–ù–ò–ô</h1>
        <div class="subtitle">30 —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞–Ω–∏–π ‚Ä¢ –†–∞–Ω–¥–æ–º–Ω—ã–π –≤—ã–±–æ—Ä ‚Ä¢ –°—É–ø–µ—Ä-–∞–Ω–∏–º–∞—Ü–∏—è</div>
        
        <div class="lototron">
            <div class="balls-container" id="ballsContainer">
                <!-- –®–∞—Ä–∏–∫–∏ –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —á–µ—Ä–µ–∑ JS -->
            </div>
        </div>
        
        <button class="btn" id="drawBtn">üé∞ –î–û–°–¢–ê–¢–¨ –ó–ê–î–ê–ù–ò–ï</button>
        
        <div class="result" id="result">
            <h2>üéâ –í–´–ü–ê–õ–û –ó–ê–î–ê–ù–ò–ï:</h2>
            <div class="task-number" id="taskNumber">?</div>
            <div class="task-description" id="taskDescription">–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –≤—ã—à–µ, —á—Ç–æ–±—ã –≤—ã—Ç–∞—â–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ</div>
        </div>
        
        <div class="history" id="history">
            <!-- –ò—Å—Ç–æ—Ä–∏—è –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
        </div>
    </div>
    
    <div class="confetti" id="confetti"></div>

    <script>
        // –ú–∞—Å—Å–∏–≤ —Å 30 –∑–∞–¥–∞–Ω–∏—è–º–∏
        const tasks = [
            "–°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–æ–µ–∫—Ç–∞", "–ù–∞–ø–∏—Å–∞—Ç—å –æ—Ç—á–µ—Ç –∑–∞ –Ω–µ–¥–µ–ª—é", "–ü—Ä–æ–≤–µ—Å—Ç–∏ –∫–æ–¥-—Ä–µ–≤—å—é",
            "–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å", "–ò–∑—É—á–∏—Ç—å –Ω–æ–≤—ã–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫", "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö",
            "–°–≤–µ—Ä—Å—Ç–∞—Ç—å –Ω–æ–≤—ã–π –º–∞–∫–µ—Ç", "–ù–∞–ø–∏—Å–∞—Ç—å unit-—Ç–µ—Å—Ç—ã", "–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ legacy –∫–æ–¥–∞",
            "–ü–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é", "–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å API –ø–ª–∞—Ç–µ–∂–µ–π", "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD",
            "–°–æ–∑–¥–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞", "–†–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é", "–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏",
            "–†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –º–æ–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é", "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É", "–î–æ–±–∞–≤–∏—Ç—å PWA –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏",
            "–°–æ–∑–¥–∞—Ç—å –¥–∞—à–±–æ—Ä–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏", "–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ", "–ò–º–ø–ª–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å WebSocket",
            "–°–¥–µ–ª–∞—Ç—å SEO –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é", "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ –ø–æ —Å–∞–π—Ç—É", "–î–æ–±–∞–≤–∏—Ç—å –º—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å",
            "–°–æ–∑–¥–∞—Ç—å —Å–∏—Å—Ç–µ–º—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π", "–ù–∞–ø–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏", "–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è",
            "–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ª–µ–Ω–∏–≤—É—é –∑–∞–≥—Ä—É–∑–∫—É", "–°–¥–µ–ª–∞—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (a11y)", "–î–æ–±–∞–≤–∏—Ç—å –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º"
        ];

        const ballsContainer = document.getElementById('ballsContainer');
        const drawBtn = document.getElementById('drawBtn');
        const result = document.getElementById('result');
        const taskNumber = document.getElementById('taskNumber');
        const taskDescription = document.getElementById('taskDescription');
        const historyContainer = document.getElementById('history');
        const confettiContainer = document.getElementById('confetti');

        let isDrawing = false;
        let selectedTasks = [];
        let availableTasks = [...Array(30).keys()]; // [0, 1, 2, ..., 29]

        // –°–æ–∑–¥–∞–µ–º —à–∞—Ä–∏–∫–∏
        function createBalls() {
            ballsContainer.innerHTML = '';
            
            for (let i = 0; i < 30; i++) {
                const ball = document.createElement('div');
                ball.className = 'ball';
                ball.textContent = i + 1;
                ball.id = `ball-${i}`;
                
                // –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä—É–µ–º —à–∞—Ä–∏–∫–∏ –≤ —Å–µ—Ç–∫–µ
                const row = Math.floor(i / 6);
                const col = i % 6;
                
                // –ù–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
                const left = 15 + col * 16.5;
                const top = 15 + row * 18;
                
                ball.style.left = `${left}%`;
                ball.style.top = `${top}%`;
                ball.style.backgroundColor = getRandomColor();
                
                ballsContainer.appendChild(ball);
            }
        }

        // –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è —à–∞—Ä–∏–∫–æ–≤
        function shuffleAnimation() {
            const balls = document.querySelectorAll('.ball');
            
            balls.forEach(ball => {
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
                const left = 10 + Math.random() * 80;
                const top = 10 + Math.random() * 80;
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ–ª–µ—Ç–∞
                ball.style.transition = 'all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275)';
                ball.style.left = `${left}%`;
                ball.style.top = `${top}%`;
                
                // –í—Ä–∞—â–µ–Ω–∏–µ
                ball.style.transform = `rotate(${Math.random() * 360}deg)`;
            });
        }

        // –í—ã–±–æ—Ä —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è
        function drawTask() {
            if (isDrawing || availableTasks.length === 0) return;
            
            isDrawing = true;
            drawBtn.disabled = true;
            drawBtn.textContent = 'üé∞ –í–´–ë–ò–†–ê–ï–ú...';
            
            // –°–∫—Ä—ã–≤–∞–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            result.classList.remove('show');
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–Ω–∏—è
            let shuffleCount = 0;
            const shuffleInterval = setInterval(() => {
                shuffleAnimation();
                shuffleCount++;
                
                // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç–∞ —à–∞—Ä–∏–∫–æ–≤
                if (shuffleCount % 3 === 0) {
                    document.querySelectorAll('.ball').forEach(ball => {
                        ball.style.backgroundColor = getRandomColor();
                    });
                }
                
                // –ó–∞–º–µ–¥–ª—è–µ–º—Å—è
                if (shuffleCount > 30) {
                    clearInterval(shuffleInterval);
                    
                    // –í—ã–±–∏—Ä–∞–µ–º –∑–∞–¥–∞–Ω–∏–µ
                    const randomIndex = Math.floor(Math.random() * availableTasks.length);
                    const taskIndex = availableTasks[randomIndex];
                    const taskNum = taskIndex + 1;
                    
                    // –£–±–∏—Ä–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö
                    availableTasks.splice(randomIndex, 1);
                    selectedTasks.push(taskIndex);
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                    setTimeout(() => {
                        revealTask(taskNum, tasks[taskIndex]);
                    }, 500);
                }
            }, 100);
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ
        function revealTask(number, description) {
            taskNumber.textContent = number;
            taskDescription.textContent = description;
            
            // –ê–Ω–∏–º–∞—Ü–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —à–∞—Ä–∏–∫–∞
            const selectedBall = document.getElementById(`ball-${number - 1}`);
            selectedBall.style.transition = 'all 1s cubic-bezier(0.175, 0.885, 0.32, 2)';
            selectedBall.style.transform = 'scale(2) rotate(360deg)';
            selectedBall.style.zIndex = '100';
            selectedBall.style.boxShadow = '0 0 50px gold';
            selectedBall.style.backgroundColor = '#FFD700';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            setTimeout(() => {
                result.classList.add('show');
                createConfetti();
                updateHistory();
                
                drawBtn.disabled = false;
                drawBtn.textContent = availableTasks.length > 0 ? 'üé∞ –î–û–°–¢–ê–¢–¨ –ó–ê–î–ê–ù–ò–ï' : 'üèÅ –í–°–ï –ó–ê–î–ê–ù–ò–Ø –†–ê–°–ü–†–ï–î–ï–õ–ï–ù–´';
                isDrawing = false;
                
                // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —à–∞—Ä–∏–∫ –Ω–∞ –º–µ—Å—Ç–æ
                setTimeout(() => {
                    selectedBall.style.transition = 'all 0.5s';
                    selectedBall.style.transform = 'scale(1)';
                    selectedBall.style.boxShadow = '0 10px 20px rgba(0, 0, 0, 0.2)';
                    selectedBall.style.backgroundColor = getRandomColor();
                    selectedBall.style.zIndex = '2';
                }, 2000);
                // –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É (–î–û–ë–ê–í–¨–¢–ï –≠–¢–û–¢ –ö–û–î)
            setTimeout(() => {
                result.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center'  // –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç —Ç–∞–∫, —á—Ç–æ–±—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±—ã–ª –ø–æ —Ü–µ–Ω—Ç—Ä—É —ç–∫—Ä–∞–Ω–∞
                });
            }, 100); // –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞, —á—Ç–æ–±—ã –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –Ω–∞—á–∞–ª–∏ –ø–∞–¥–∞—Ç—å
            }, 1000);
        }

// –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ (–ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –í–ï–†–°–ò–Ø)
function createConfetti() {
    confettiContainer.innerHTML = '';
    
    // –£–±–µ–¥–∏–º—Å—è, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç –í–ï–°–¨ —ç–∫—Ä–∞–Ω
    confettiContainer.style.width = '100vw';
    confettiContainer.style.height = '100vh';
    confettiContainer.style.left = '0';
    confettiContainer.style.top = '0';
    
    for (let i = 0; i < 150; i++) {
        const piece = document.createElement('div');
        piece.className = 'confetti-piece';
        piece.style.backgroundColor = getRandomColor();
        // –í–∞–∂–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–µ–º % –æ—Ç —à–∏—Ä–∏–Ω—ã –æ–∫–Ω–∞, –∞ –Ω–µ vw
        piece.style.left = Math.random() * 100 + '%';
        piece.style.width = Math.random() * 15 + 5 + 'px';
        piece.style.height = Math.random() * 15 + 5 + 'px';
        piece.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
        
        // –°–ª—É—á–∞–π–Ω–∞—è –Ω–∞—á–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ (–Ω–µ —Ç–æ–ª—å–∫–æ —Å–≤–µ—Ä—Ö—É)
        const startY = Math.random() * 100;
        piece.style.opacity = '1';
        piece.style.transform = `translateY(-${startY}px) rotate(0deg)`;
        
        // –ê–Ω–∏–º–∞—Ü–∏—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
        piece.style.animation = `
            fall ${Math.random() * 3 + 2}s linear ${Math.random() * 0.5}s forwards,
            spin ${Math.random() * 2 + 1}s linear infinite
        `;
        
        confettiContainer.appendChild(piece);
        setTimeout(() => piece.remove(), 3500);
    }
}
            
            // –î–æ–±–∞–≤–ª—è–µ–º CSS –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
            if (!document.querySelector('#confetti-style')) {
                const style = document.createElement('style');
                style.id = 'confetti-style';
                style.textContent = `
                    @keyframes fall {
                        0% {
                            opacity: 1;
                            transform: translateY(-100px) rotate(0deg);
                        }
                        100% {
                            opacity: 0;
                            transform: translateY(100vh) rotate(360deg);
                        }
                    }
                    @keyframes spin {
                        0% { transform: rotate(0deg); }
                        100% { transform: rotate(360deg); }
                    }
                `;
                document.head.appendChild(style);
            }
        }

        // –û–±–Ω–æ–≤–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
        function updateHistory() {
            historyContainer.innerHTML = '<div style="width:100%;margin-bottom:10px;">üìú –ò—Å—Ç–æ—Ä–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö:</div>';
            
            selectedTasks.forEach((taskIndex, i) => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                historyItem.textContent = taskIndex + 1;
                historyItem.style.setProperty('--i', i % 10);
                historyContainer.appendChild(historyItem);
            });
        }

        // –°–ª—É—á–∞–π–Ω—ã–π —Ü–≤–µ—Ç
        function getRandomColor() {
            const colors = [
                '#4facfe', '#00f2fe', '#43e97b', '#fa709a',
                '#ff9a9e', '#fad0c4', '#a1c4fd', '#c2e9fb',
                '#ffecd2', '#fcb69f', '#667eea', '#764ba2'
            ];
            return colors[Math.floor(Math.random() * colors.length)];
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            createBalls();
            updateHistory();
            
            drawBtn.addEventListener('click', drawTask);
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –ª–µ–≥–∫—É—é –∞–Ω–∏–º–∞—Ü–∏—é —à–∞—Ä–∏–∫–æ–≤
            setInterval(() => {
                if (!isDrawing) {
                    document.querySelectorAll('.ball').forEach((ball, i) => {
                        const currentTop = parseFloat(ball.style.top);
                        const float = Math.sin(Date.now() / 1000 + i) * 10;
                        ball.style.top = `${currentTop + float / 100}%`;
                    });
                }
            }, 100);
        }

        // –ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('DOMContentLoaded', init);
    </script>
</body>
  </html>


